"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createFileSystem = createFileSystem;
function createFileSystem(fs) {
    let requireFsError = '';
    if (!fs) {
        try {
            fs = require('node:fs');
        }
        catch (err) {
            requireFsError = err.toString();
        }
    }
    const readFile = fs
        ? (filePath) => new Promise((res, rej) => {
            fs.readFile(filePath, (err, buffer) => err ? rej(err) : res(buffer));
        })
        : () => {
            throw new Error(`readFile - failed to require fs in nodejs environment with error: ${requireFsError}`);
        };
    return {
        readFile,
    };
}
