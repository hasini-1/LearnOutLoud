"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.boxPredictionLayer = boxPredictionLayer;
const tf = require("@tensorflow/tfjs-core");
const common_1 = require("../common");
function boxPredictionLayer(x, params) {
    return tf.tidy(() => {
        const batchSize = x.shape[0];
        const boxPredictionEncoding = tf.reshape((0, common_1.convLayer)(x, params.box_encoding_predictor), [
            batchSize,
            -1,
            1,
            4,
        ]);
        const classPrediction = tf.reshape((0, common_1.convLayer)(x, params.class_predictor), [batchSize, -1, 3]);
        return {
            boxPredictionEncoding,
            classPrediction,
        };
    });
}
