"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.extractWeightEntryFactory = extractWeightEntryFactory;
const utils_1 = require("../utils");
function extractWeightEntryFactory(weightMap, paramMappings) {
    return (originalPath, paramRank, mappedPath) => {
        const tensor = weightMap[originalPath];
        if (!(0, utils_1.isTensor)(tensor, paramRank)) {
            throw new Error(`expected weightMap[${originalPath}] to be a Tensor${paramRank}D, instead have ${tensor}`);
        }
        paramMappings.push({ originalPath, paramPath: mappedPath || originalPath });
        return tensor;
    };
}
