"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isWithFaceLandmarks = isWithFaceLandmarks;
exports.extendWithFaceLandmarks = extendWithFaceLandmarks;
const FaceDetection_1 = require("../classes/FaceDetection");
const FaceLandmarks_1 = require("../classes/FaceLandmarks");
function isWithFaceLandmarks(obj) {
    return !!(obj &&
        typeof obj === 'object' &&
        obj.landmarks instanceof FaceLandmarks_1.FaceLandmarks);
}
function extendWithFaceLandmarks(sourceObj, unshiftedLandmarks) {
    const { box: shift } = sourceObj.detection;
    const landmarks = unshiftedLandmarks.shiftBy(shift.x, shift.y);
    const rect = landmarks.align();
    const { imageDims } = sourceObj.detection;
    const alignedRect = new FaceDetection_1.FaceDetection(sourceObj.detection.score, rect.rescale(imageDims.reverse()), imageDims);
    const extension = {
        landmarks,
        unshiftedLandmarks,
        alignedRect,
    };
    return Object.assign({}, sourceObj, extension);
}
